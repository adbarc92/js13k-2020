(()=>{window.running=!0,window.addEventListener("load",async()=>{await Ot(),ce(),y(),(()=>{const t=Ut();Yt(t),window.world=t;const e=t.party,n=q(tt,"Jeremiah"),a=q(et,"Seph"),o=q(nt,"Kana");St(e,n),St(e,a),St(e,o);const r=performance.now();let s=r;const i=n=>{const a=(n-s)/16.666;R(a>2?2:a),W(n-r),s=n,Qt();const o=L();if(o)re(o);else{const n=Vt(t),a=_t(e).actor;d(t),ae(n,0,0,2),oe(a,2)}window.running&&requestAnimationFrame(i)};i(r)})()});const t=t=>Math.abs(t)/t,e=(t,e,n,a)=>[t,e,t+n,e+a],n=(t,e)=>[t,e],a=(t,e)=>t.map((t,n)=>((t,e)=>{const[n,a]=t,[o,r,s,i]=e;return n>o&&n<s&&a>r&&a<i})(t,e)?n:-1).filter(t=>t>-1),o=t=>{const[e,a,o,r]=t,s=o-e,i=e+s/2,c=a+(r-a)/2;return[n(i,r),n(i,a),n(e+s/4,c),n(o-s/4,c)]},r=(t,e)=>t.allies.includes(e),s=(t,e)=>Math.floor(U()%((t+1)*e)/e);window.addEventListener("keydown",t=>{J()||vt(t.key)}),window.addEventListener("keyup",t=>{kt(t.key)});const i=async(t,e)=>(e||le("cutscene"),new Promise(e=>{fe(t,e)})),c=async t=>{le("menuConfirm"),i("",!0),await(async t=>new Promise(t=>{setTimeout(t,250)}))();for(let e=0;e<t.length;e++){const n=t[e].trim();n&&await i(n)}le("menuCancel")},l=t=>{const e=qt(),n=_t(e.party),a=t.actor;k(a,n.actor.x<a.x?w:x)},h=(t,e)=>{const n=t[e];n<0?t[e]+=1.2:n>0&&(t[e]-=1.2),Math.abs(t[e])<=1.2&&(t[e]=0)},d=t=>{const e=Vt(t),{characters:n}=e;n.forEach(t=>{u(t.actor,e)}),p(t.party,e,t)},p=(t,e,n)=>{const r=_t(t).actor,{ax:s,ay:i,isGround:c}=r;T(r,I),N(null);let l=s,h=i;const d=c?1.2:.04;Ct(wt)&&(l=-d,k(r,w),T(r,v)),Ct(gt)&&(l=d,k(r,x),T(r,v)),Ct(It)&&r.isGround&&(h=-5.1,r.vy=0,r.isGround=!1),Ct(xt)&&(r.disablePlatformCollision=!0),r.isGround||T(r,b),M(r,l,h);const[p,m]=u(r,e);(p||m)&&Xt(p,m,n);const y=o($(r));for(let t in e.characters){const n=e.characters[t],o=n.actor;Y("",n);const r=$(o);let s=!1;a(y,r).forEach(()=>{s=!0});const i=n.label||n.name;s&&i&&(Y(i,n),N(()=>{n.action&&n.action(n)}))}},u=(n,r)=>{(t=>{const e=H();t.ay+=t.isGround?1e-4*e:.2*e})(n);let s=0,i=0;const c=H();let{x:l,y:d,vx:p,vy:u,ax:m,ay:y,w:f,h:g}=n,w=p+m*c,x=u+y*c;Math.abs(w)>1.2&&(w=1.2*t(w)),Math.abs(x)>3.2&&(x=3.2*t(x)),S(n,w,x);let I=l+p*c,v=d+u*c;const[b,k]=Et(r);return I<0?(I=0,s=-1):I+f>b&&(I=b-f,s=1),v<0?(v=0,i=-1):v+g>k&&(v=k-g,i=1),C(n,I,v),((t,n)=>{let r,s,i=!1,c=0;const l=Pt(n);do{c++,r=!1,s=!1;const n=o(e(t.x,t.y,t.w,t.h)),h={0:null,1:null,2:null,3:null};l.forEach(o=>{const i=e(o.px,o.py,o.size,o.size);Ft(o)?a(n,i).forEach(t=>{r=!0,h[t]=o}):t.y+t.h/2<o.py&&a(n,i).forEach(e=>{0!==e||t.disablePlatformCollision||(s=!0,r=!0,h[e]=o)})});const d=h[1],p=h[2],u=h[3],m=1;h[0]?t.vy>0&&(t.y=16*Math.floor((t.y+8)/16),i=!0):d?s||(t.y+=m,t.vy=0):p?s||(t.x+=m):u&&(s||(t.x-=m))}while(r&&c<10);i===t.isGround||i||(t.vy=0),t.isGround=i})(n,r),0===m&&h(n,"vx"),0===y&&h(n,"vy"),M(n,0,0),[s,i]},m={},y=()=>{m["1,1,10,15"]=at,m["1,1,11,11"]=rt,m["1,1,6,15"]=ot,m["1,1,4,9"]=st,m["0,1,9,15"]=it,m["0,1,7,11"]=ct,m["0,1,9,11"]=ct,m["0,1,11,11"]=ct,m["0,1,13,11"]=ct,m["0,1,8,7"]=ct,m["0,1,10,7"]=ct,m["0,1,12,7"]=ct,m["0,1,14,7"]=ht,m["0,1,7,3"]=ct,m["0,1,9,3"]=ct,m["0,1,11,3"]=ct,m["0,1,13,3"]=lt,m["2,2,2,15"]=dt,m["2,2,11,3"]=yt,m["2,2,3,3"]=mt,m["2,2,6,4"]=pt,m["2,2,8,9"]=pt,m["2,2,4,7"]=pt,m["1,2,3,15"]=pt,m["1,2,6,15"]=pt,m["1,2,9,15"]=pt,m["1,2,12,15"]=pt,m["2,2,11,6"]=yt,m["2,2,2,12"]=ut,m["2,2,1,12"]=ut};var f,g;f=(t=1,e=.05,n=220,a=0,o=0,r=.1,s=0,i=1,c=0,l=0,h=0,d=0,p=0,u=0,m=0,y=0,f=0,w=1,x=0,I=44100,v=99+a*I,b=o*I,k=r*I,C=x*I,_=f*I,S=2*Math.PI,M=(t=>0<t?1:-1),T=v+C+b+k+_,$=(c*=500*S/I**2),E=(n*=(1+2*e*Math.random()-e)*S/I),P=M(m)*S/4,F=0,L=0,A=0,z=0,B=0,D=0,G=1,O=[],j=g.createBufferSource(),R=g.createBuffer(1,T,I))=>{for(j.connect(g.destination);A<T;O[A++]=D)++B>100*y&&(B=0,D=F*n*Math.sin(L*m*S/I-P),D=M(D=s?1<s?2<s?3<s?Math.sin((D%S)**3):Math.max(Math.min(Math.tan(D),1),-1):1-(2*D/S%2+2)%2:1-4*Math.abs(Math.round(D/S)-D/S):Math.sin(D))*Math.abs(D)**i*t*.3*(A<v?A/v:A<v+C?1-(A-v)/C*(1-w):A<v+C+b?w:A<T-_?(T-A-_)/k*w:0),D=_?D/2+(_>A?0:(A<T-_?1:(A-T)/_)*O[A-_|0]/2):D),F+=1-u+1e9*(Math.sin(A)+1)%2*u,L+=1-u+1e9*(Math.sin(A)**2+1)%2*u,n+=c+=500*l*S/I**3,G&&++G>d*I&&(n+=h*S/I,E+=h*S/I,G=0),p&&++z>p*I&&(n=E,c=$,z=1,G=G||1);return R.getChannelData(0).set(O),j.buffer=R,j.start(),j},g=new AudioContext;const w=0,x=1,I=0,v=1,b=2,k=(t,e)=>{t.facing=e},C=(t,e,n)=>{t.x=e,t.y=n},_=t=>[t.x,t.y],S=(t,e,n)=>{t.vx=e,t.vy=n},M=(t,e,n)=>{t.ax=e,t.ay=n},T=(t,e)=>{t.anim=e},$=t=>e(t.x,t.y,t.w,t.h),E=t=>{const e=[];for(let n=0;n<4;n++)e.push([t,28*n+80]);return e},P=E(40),F=E(200),L=()=>null,A=t=>t.rounds[t.roundIndex];let z=null,B=1,D=0;const G=(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d"),t,e]},O=()=>{var t;if(z)return z;{const[e,n]=G(512,512);return e.id="canv",n.imageSmoothingEnabled=!1,null===(t=document.getElementById("innerDiv"))||void 0===t||t.appendChild(e),z=e,e}},j=()=>O().getContext("2d"),R=t=>{B=t},H=()=>B,W=t=>{D=t},U=()=>D,Y=(t,e)=>{e.aText=t},q=(t,e)=>{const{sprI:n,spr:a,stats:o,label:r,action:s,name:i}=t,c={sprite:"actors",spriteIndex:n,facing:w,anim:I,isGround:!1,disablePlatformCollision:!1,x:0,y:0,vx:0,vy:0,ax:0,ay:0,w:16,h:16};return a&&(c.sprite=a),{name:e||i,actor:c,label:r||"",action:s,aText:"",unit:o?jt(i,c,t,0,0):void 0}};let X=!1,V=null;const J=()=>X,K=t=>{X=t},N=t=>V=t,Q=(t,e,n,a,o)=>({hp:t,dmg:e,def:n,mag:a,spd:o,iCnt:a,cCnt:0}),Z=(Q(1,20,20,10,5),Q(20,8,5,10,15),{name:"",stats:{bS:Q(90,100,20,5,10),ai:0},sprI:0}),tt={name:"",stats:{bS:Q(85,30,16,6,12),ai:0},sprI:0},et={name:"",stats:{bS:Q(60,19,25,4,6),ai:0},sprI:0},nt={name:"",stats:{bS:Q(80,10,12,7,15),ai:0},sprI:0},at=(Q(75,23,7,7,10),{name:"Old Man",sprI:15,action:async t=>{l(t);const e="\nHello there.\nI see you've arrived with your wits about you.\nThat's very good.  You'll need them.\nIf you examine the statues in this cave, you'll notice that they're all...\n...missing something.\nIf you seek refuge from this place, it may be prudent to find what is not found.\n  ".split("\n");await c(e),ye()}}),ot={name:"Runner Without Legs",spr:"terrain",sprI:8,action:async()=>{let t=[""];t=Jt("examined_runner_without_legs")?'\nThere\'s a plaque beneath this statue.\nIt says, "The Runner."\nThis statue appears to be missing a pair of legs.\n  '.split("\n"):"\nThis statue appears to be missing a pair of legs.\n  ".split("\n"),await c(t),ye()}},rt={name:"Thinker Without Mind",spr:"terrain",sprI:8},st={name:"Speaker Without Voice",spr:"terrain",sprI:8},it={name:"Sign",spr:"terrain",sprI:5,action:async()=>{const t='\nThis sign says: "There are pots in this room."\n  '.split("\n");await c(t),ye()}},ct={name:"Pot",spr:"terrain",sprI:4,action:async()=>{const t="\nYou check the pot...\nThere's nothing inside.\n  ".split("\n");await c(t),ye()}},lt={name:"Pot!",spr:"terrain",sprI:4,action:async()=>{const t="\nThere's something strange about this pot...\nYou check the pot...\nThere's nothing inside.\n  ".split("\n");await c(t),ye()}},ht={name:"Pot",spr:"terrain",sprI:4,action:async()=>{const t="\nYou check the pot...\nThere's a VOICE inside!\n  ".split("\n");await c(t),ye()}},dt={name:"Pate",sprI:3,action:async t=>{l(t);let e=[""];e=Jt("talked_to_pate")?"\n    Hello friend!\n    I seem to have misplaced some treasure.\n    If you'd kindly bring it to me,\n    I'd be happy to accompany you out of here.\n    ".split("\n"):"\n      Have you found it yet?\n      No? Come back when you have!\n      ".split("\n"),await c(e),ye()}},pt={name:"Foul Beast",sprI:5,action:async()=>{const t="\n    This is a feral beast.\n    ".split("\n");await c(t),ye()}},ut={name:"Deadly Spikes",spr:"terrain",sprI:6,action:async()=>{const t="\n    Wicked looking spikes...\n    Ouch!\n    Even a touch pricks your finger.\n    ".split("\n");await c(t),ye()}},mt={name:"A gleaming item...",spr:"terrain",sprI:4,action:async()=>{const t="\n    A gleaming marble radiating shifting hues...\n    ".split("\n");await c(t),ye()}},yt={name:"Feather",spr:"terrain",sprI:4,action:async()=>{const t="\n    A white and black feather.\n    How could it have gotten here?\n    ".split("\n");await c(t),ye()}},ft={},gt="ArrowRight",wt="ArrowLeft",xt="ArrowDown",It=" ",vt=t=>{if(1===t.length&&(t=t.toUpperCase()),!ft[t]){if(ft[t]=!0,"q"===t&&(window.running=!1),J())return;if(L(),"X"===t){const t=V;t&&t()}}};let bt=-1;const kt=t=>{if(1===t.length&&(t=t.toUpperCase()),t===xt){const t=qt(),e=_t(t.party).actor;e.disablePlatformCollision&&(clearTimeout(bt),bt=setTimeout(()=>{e.disablePlatformCollision=!1},150))}ft[t]=!1},Ct=t=>(1===t.length&&(t=t.toUpperCase()),ft[t]),_t=t=>t.characters[0],St=(t,e)=>{t.characters.push(e)},Mt={0:[156,100,52],1:[171,82,54],2:[0,228,54],3:[0,135,81],4:[29,43,83],5:[95,87,79],6:[194,195,199],7:[255,241,232],8:[255,0,77],15:[0,0,0]},Tt={};for(let t in Mt)Tt[Mt[t].join("")]=+t;const $t=(t,e,n,a)=>{const o=[],r=[],[,s]=G(16,16);ne(t,0,0,1,s);const{data:i}=s.getImageData(0,0,16,16);let c=0;for(let t=0;t<i.length;t+=4){let e=Tt[`${i[t+0]}${i[t+1]}${i[t+2]}`]||0;const s=c%16,l=Math.floor(c/16);let h=null;const d=m[[n,a,s,l].join(",")];d&&(h=q(d)),h&&(C(h.actor,16*s,16*l-16),r.push(h)),o.push({id:e,x:s,y:l,px:16*s,py:16*l,size:16}),c++}return{tiles:o,characters:r,w:16,h:16,bgSprite:e}},Et=t=>[16*t.w,16*t.h],Pt=t=>t.tiles.filter(t=>[0,1,2,7].includes(t.id)),Ft=t=>[0,1,7].includes(t.id),Lt=(t,e,n,a,o)=>[t,e,n,a,o];let At=null;const zt=t=>{const[e,n,a,o]=G(t.width,t.height),r=a/2,s=o/2;return n.translate(r,s),n.rotate(Math.PI/2),n.drawImage(t,-r,-s),e},Bt=t=>{const[e,n,a]=G(t.width,t.height);return n.translate(a,0),n.scale(-1,1),n.drawImage(t,0,0),e},Dt=t=>{const[,,,e,n]=t,[a,o]=G(e,n);return ne(t,0,0,1,o),a},Gt=(t,e,n,a,o)=>{const r=(e,n,a,o,r,s)=>t[e]=Lt(n,a,o,r,s),s=(t,e,n)=>{let s=t;for(let t=0;t<n;t++)s=zt(s);r(`${e}_r${n}`,s,0,0,a,o)},i=e.width/a,c=e.height/o;for(let t=0;t<c;t++)for(let c=0;c<i;c++){const l=`${n}_${t*i+c}`,h=r(l,e,c*a,t*o,a,o);s(Dt(h),l,1),s(Dt(h),l,2),s(Dt(h),l,3),r(l+"_f",Bt(Dt(h)),0,0,a,o),r(l+"_fr1",zt(Bt(Dt(h))),0,0,a,o)}},Ot=async()=>{const t={},e=await new Promise(t=>{const e=new Image;e.onload=()=>{t(e)},e.src="packed.png"}),n=Dt(Lt(e,0,0,64,64));Gt(t,n,"actors",16,16);const a=Dt(Lt(e,64,0,64,64));Gt(t,a,"terrain",16,16);const o=Dt(Lt(e,0,64,64,64));Gt(t,o,"map",16,16);const r=Dt(Lt(e,64,64,64,64));Gt(t,r,"monsters",16,16),At=t},jt=(t,e,n,a,o)=>{const{stats:r}=n;if(!r)throw Error(`CharacterDef '${t}' has no stats!`);const s={name:t,actor:e,bS:Object.assign({},r.bS),cS:Object.assign({},r.bS),i:o,allegiance:a,ai:r.ai};return k(s.actor,s.allegiance?w:x),Rt(s),s},Rt=t=>{const[e,n]=(a=t.i,0===t.allegiance?P[a]:F[a]);var a;C(t.actor,e,n)};let Ht=null;const Wt={0:"terrain_9",1:"terrain_9",2:"terrain_9",3:"terrain_9",4:"terrain_10",5:"terrain_9",6:"terrain_9",7:"terrain_9",8:"terrain_9",9:"terrain_9",10:"terrain_9",11:"terrain_9",12:"terrain_9",13:"terrain_9",14:"terrain_9",15:"terrain_9"},Ut=()=>{const t={characters:[q(Z,"Runner")],inventory:[],worldX:0,worldY:0},e=_t(t);C(e.actor,128,180);const n={rooms:[],party:t,roomI:5,state:{}};for(let t=0;t<16;t++)n.rooms.push($t("map_"+t,Wt[t],t%4,Math.floor(t/4)));return n},Yt=t=>{Ht=t},qt=()=>Ht,Xt=(t,e,n)=>{((t,e,n)=>{n.roomI=4*e+t})(n.roomI%4+t,Math.floor(n.roomI/4)+e,n);const a=Vt(n),o=_t(n.party).actor,[r,s]=Et(a);let i=0,c=0;t>0&&(i=0,c=o.y),t<0&&(i=r-16,c=o.y),e>0&&(i=o.x,c=0),e<0&&(i=o.x,c=s-16),C(o,i,c)},Vt=t=>t.rooms[t.roomI],Jt=t=>void 0===(t=>qt().state[t])(t)&&(((t,e)=>{qt().state[t]=!0})(t),!0),Kt={font:"monospace",color:"#fff",size:14,align:"left",strokeColor:""},Nt={},Qt=()=>{const t=O();ee(0,0,t.width,t.height,"#557","#aaf")},Zt=(t,e,n,a,o,r,s)=>{(s=s||j()).lineWidth=1,s[r?"strokeStyle":"fillStyle"]=o,s[r?"strokeRect":"fillRect"](t,e,n,a)},te=(t,e,n,a,o)=>{const{font:r,size:s,color:i,align:c,strokeColor:l}=Object.assign(Object.assign({},Kt),a||{});(o=o||j()).font=`${s}px ${r}`,o.fillStyle=i,o.textAlign=c,o.textBaseline="middle",o.fillText(t,e,n),l&&(o.strokeStyle=l,o.lineWidth=.5,o.strokeText(t,e,n))},ee=(t,e,n,a,o,r)=>{const s=j(),i=`${t},${e},${n},${a},${o},${r}`;if(!Nt[i]){const t=s.createLinearGradient(0,a,0,0);t.addColorStop(0,o),t.addColorStop(1,r),Nt[i]=t}s.fillStyle=Nt[i],s.fillRect(t,e,n,a)},ne=(t,e,n,a,o)=>{a=a||1,o=o||j();const[r,s,i,c,l]="string"==typeof t?At[t]:t;o.drawImage(r,s,i,c,l,e,n,c*a,l*a)},ae=(t,e,n,a)=>{const o=a||1;t.tiles.forEach(r=>{const{id:s,x:i,y:c,size:l}=r,h=(e+i*l)*o,d=(n+c*l)*o;ne(t.bgSprite,h,d,a),15!=s&&ne("terrain_"+s,h,d,a)}),t.characters.forEach(t=>{const e=t.actor;oe(e,a);const{x:n,y:r}=e,s=t.aText;s&&te(s,n*o+16*o/2,r*o-16*o/2,{size:16,align:"center"})})},oe=(t,e)=>{e=e||1;const{x:n,y:a}=t,o=n*e,r=a*e,[i,c,l]=(t=>{let{facing:e,sprite:n,spriteIndex:a,anim:o}=t,r=o,i=a<3,c=0;o===v?r-=s(1,100):3===o?i?r=2-s(1,250):(r=0,c=2*s(1,100)):4===o&&(r=i?2:0);let l="";switch(e){case 0:l="_f";break;case 2:l="_r3";break;case 3:l="_fr1"}return[n+"_"+(a+r+l),0,c]})(t);ne(i,o+c,r+l,e)},re=t=>{Qt();const e=(n=A(t)).turnOrder[n.currentIndex]||null;var n;he(5,15,150,20),te("Turn: "+(null==e?void 0:e.name),10,26);const{allies:a,enemies:o}=t;for(let t=0;t<a.length;t++){const[e,n]=_(a[t].actor);C(a[t].actor,e,n),oe(a[t].actor,2),te(""+a[t].name,2*e+16,2*n-5,{align:"center"})}pe(t,0),pe(t,1);for(let t=0;t<o.length;t++){const[e,n]=_(o[t].actor);oe(o[t].actor,2),te(`${o[t].name}: ${""+o[t].cS.hp}/${""+o[t].bS.hp}`,2*e+5,2*n-5,{align:"center"})}t.text&&de(t.text),ue(t)};let se=null;const ie=(t,e,n)=>{t[e]=n},ce=()=>{const t={};ie(t,"menuMove",[.6,0,1248,.04,,0,2,2.23,99,.8,,,,,,,,0,.05]),ie(t,"menuConfirm",[.4,0,1469,,,.08,,.14,56,,,,,,,,.04,,.04]),ie(t,"menuCancel",[.4,,1056,.03,,.06,3,.74,,.3,-38,.04,,,6,,,,.03]),ie(t,"jump",[,,223,.01,.1,.22,1,1.35,.1,,,,,.4,,,,.55,.09]),ie(t,"explosion",[,,518,.01,.05,1.59,4,1.24,.5,.4,,,,.3,,.7,.13,.58,.01]),ie(t,"actionStrike",[,,224,,.08,.17,4,1.12,4.7,-4.2,,,,1.6,-.9,.1,.01,.82,.01]),ie(t,"actionCharge",[,0,11,.16,.34,.06,2,2.05,,60,,,,,-1.2,.5,,,.01]),ie(t,"actionDefend",[,,1396,,.1,.14,1,.91,,,,,,.1,,.1,,.71,.07]),ie(t,"turnChime",[,0,750,.08,.05,.09,1,.01,,,,,.02,,,,.15,.4,.03]),ie(t,"death",[1.1,0,170,.06,,1.17,4,.7,.8,1.5,50,,,.5,,.6,,.7]),ie(t,"item",[,,1320,.05,,.07,1,.01,,8.3,531,,.02,,,,,.49,.04,.08]),ie(t,"cutscene",[,0,286,.01,,.07,,1.24,-.2,,-278,.13,,,,,,.26,.03]),se=t},le=t=>{f(...se[t])},he=(t,e,n,a,o)=>{Zt(t,e,n,a,o=o||"#000"),Zt(t,e,n,a,"#FFF",!0)},de=t=>{he(0,90,512,50),te(t,256,116,{align:"center",size:20})},pe=(t,e)=>{const n=1===e?312:0;he(n,422,200,90),he(0,397,200,25),te("Unit",10,409.5),te("HP",80,409.5),te("Chg",140,409.5),te("Int",170,409.5);const a=1===e?t.enemies:t.allies;for(let t=0;t<a.length;t++){const o=a[t],{name:r,bS:s,cS:i}=o;0===e?(te(r.slice(0,8),n+10,437+20*t),te(`${i.hp}/${s.hp}`,n+80,437+20*t),te(""+i.cCnt,n+145,437+20*t),te(""+i.iCnt,n+175,437+20*t)):te(r.slice(0,8),n+100,437+20*t,{align:"center"})}},ue=t=>{const{turnOrder:e}=A(t),n=e.length,a=35*n;let o=512-512/3-a/2;he(o-5,5,a+5,80);for(let a=0;a<n;a++,o+=35){const{name:n,actor:s}=e[a],{sprite:i,spriteIndex:c}=s,l=10+(A(t).currentIndex===a?20:10);he(o,l,30,40,r(t,e[a])?"#29ADFF":"#FF004D");const h=r(t,e[a])?l-5:l+40+8;te(n.slice(0,5),o+15,h,{size:12,align:"center",strokeColor:"#FFF"}),ne(`${i}_${c}`,o,l+5,2)}};let me=null,ye=()=>{const t=document.getElementById("dialogBox");window.removeEventListener("keypress",me),t.style.opacity="0",t.style.width="0",K(!1)};const fe=(t,e)=>{const n=document.getElementById("dialogBox");window.removeEventListener("keypress",me),n.innerHTML=`<div style="width:476px">${t}</div>`,n.style.opacity="1",n.style.width="512px",me=t=>{const n=t.key.toUpperCase();n!==It&&"X"!==n||(window.removeEventListener("keypress",me),e())},setTimeout(()=>{window.addEventListener("keypress",me)},25),K(!0)}})();